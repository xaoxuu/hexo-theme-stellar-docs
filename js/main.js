const util={diffDate:(e,t=!1)=>{var o,n=new Date,e=new Date(e),n=n.getTime()-e.getTime();let a;return a=t?(e=n/36e5,t=n/6e4,14<(o=n/864e5)?null:1<=o?parseInt(o)+" "+ctx.date_suffix.day:1<=e?parseInt(e)+" "+ctx.date_suffix.hour:1<=t?parseInt(t)+" "+ctx.date_suffix.min:ctx.date_suffix.just):parseInt(n/864e5)},copy:(e,t)=>{e=document.getElementById(e);e&&(e.select(),document.execCommand("Copy"),t)&&0<t.length&&hud.toast(t,2500)},toggle:e=>{e=document.getElementById(e);e&&e.classList.toggle("display")},scrollTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},scrollComment:()=>{document.getElementById("comments").scrollIntoView({behavior:"smooth"})},viewportLazyload:(e,t,o=!0)=>{if(o&&"IntersectionObserver"in window){const n=new IntersectionObserver(e=>{0<e[0].intersectionRatio&&(t(),n.disconnect())});n.observe(e)}else t()}},hud={toast:(e,t)=>{var t=Number(isNaN(t)?2e3:t),o=document.createElement("div");o.classList.add("toast"),o.classList.add("show"),o.innerHTML=e,document.body.appendChild(o),setTimeout(function(){document.body.removeChild(o)},t)}},l_body=document.querySelector(".l_body"),init={toc:()=>{utils.jq(()=>{var i=[];$("article.md-text :header").each(function(e,t){i.push(t)});var e=null;window.addEventListener("scroll",function(){!function(){var e,t,o=$(this).scrollTop(),n=null;for(e in i){var a=$(i[e]);a.offset().top>o+32||(!n||a.offset().top>=n.offset().top)&&(n=a)}n&&($("#data-toc a.toc-link").removeClass("active"),"#undefined"!=(t="#"+n.attr("id"))?0<(t=$('#data-toc a.toc-link[href="'+encodeURI(t)+'"]')).length&&t.addClass("active"):$("#data-toc a.toc-link:first").addClass("active"))}(),null!==e&&clearTimeout(e),e=setTimeout(function(){var e,t,o;t=document.querySelector("#data-toc .toc"),o=document.querySelector("#data-toc .toc a.toc-link.active"),null!=t&&null!=o&&(e=o.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+100,(o=o.getBoundingClientRect().top-t.getBoundingClientRect().top-64)<0?t.scrollBy({top:o,behavior:"smooth"}):0<e&&t.scrollBy({top:e,behavior:"smooth"}))}.bind(this),50)})})},sidebar:()=>{utils.jq(()=>{$("#data-toc a.toc-link").click(function(e){sidebar.dismiss()})})},relativeDate:e=>{e.forEach(e=>{var t=e.getAttribute("datetime"),t=util.diffDate(t,!0);t&&(e.innerText=t)})},registerTabsTag:function(){document.querySelectorAll(".tabs .nav-tabs .tab").forEach(o=>{o.addEventListener("click",e=>{if(e.preventDefault(),!o.classList.contains("active")){[...o.parentNode.children].forEach(e=>{e.classList.toggle("active",e===o)});const t=document.getElementById(o.querySelector("a").getAttribute("href").replace("#",""));[...t.parentNode.children].forEach(e=>{e.classList.toggle("active",e===t)}),t.dispatchEvent(new Event("tabs:click",{bubbles:!0}))}})}),window.dispatchEvent(new Event("tabs:register"))},canonicalCheck:()=>{const n=window.canonical;function e(e=!1){var t=document.createElement("meta"),t=(t.name="robots",t.content="noindex, nofollow",document.head.appendChild(t),document.createElement("div")),o="https://"+n.originalHost;e?(t.className="canonical-tip official",t.innerHTML=`
        <a href="${o}" target="_self" rel="noopener noreferrer">
        本站为官方备用站，仅供应急。主站：${o}
        </a>
        `):(t.className="canonical-tip unofficial",t.innerHTML=`
        <a href="${o}" target="_self" rel="noopener noreferrer">
        <div class="headline icon">☠️</div>
        本站为非法克隆站，请前往官方源站访问。<br>
        源站：${o}
        </a>
        `),document.body.appendChild(t)}var t,o,a;n.originalHost&&((o=document.querySelector('link[rel="canonical"]'))?(o=new URL(o.href),t=new URL(window.location.href),o=o.hostname.replace(/^www\./,""),"localhost"==(t=t.hostname.replace(/^www\./,""))||(o=window.btoa(o),a=window.btoa(t),o=n.encoded===o,a=n.encoded===a,o&&a)||e(n.officialHosts?.includes(t))):e(!1))}};init.toc(),init.sidebar(),init.relativeDate(document.querySelectorAll("#post-meta time")),init.registerTabsTag(),init.canonicalCheck();