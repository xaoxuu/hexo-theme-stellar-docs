utils.jq(()=>{$(function(){for(var s=document.getElementsByClassName("ds-friends_and_posts"),a=0;a<s.length;a++){const t=s[a];var e=t.getAttribute("api");if(null!=e){const o=def.avatar;utils.request(t,e,async s=>{var a,s=await s.json();for(a of s.content||s){var e,l='<div class="grid-cell user-post-card">',l=(l=(l=(l=(l+='<div class="avatar-box">')+`<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="${a.html_url||a.url}">`)+`<img src="${a.avatar_url||a.avatar||a.icon||o}" onerror="javascript:this.removeAttribute('data-src');this.src='${o}';"/>`)+`<span class="title">${a.title||a.login}</span>`)+"</a>"+'<div class="labels">';for(e of a.labels)75<e.lightness?l+=`<div class="label" style="background:#${e.color};color:hsla(${e.hue}, ${e.saturation}%, 20%, 1);">${e.name}</div>`:90<e.saturation&&40<e.lightness?l+=`<div class="label" style="background:#${e.color};color:hsla(${e.hue}, 50%, 20%, 1);">${e.name}</div>`:l+=`<div class="label" style="background:#${e.color};color:white">${e.name}</div>`;if(l=(l+="</div>")+"</div>"+'<div class="previews">',a.description?l+=`<div class="desc">${a.description||a.issue_number||""}</div>`:l+=`<div class="desc">#${a.issue_number}</div>`,l+='<div class="posts">',0<a.posts?.length)for(var r of a.posts)l=(l=(l+=`<a class="post-link" target="_blank" rel="external nofollow noopener noreferrer" href="${r.link}">`)+`<span class="title">${r.title}</span>`)+`<span class="date">${r.published}</span>`+"</a>";else l+=`<span class="no-post">${0<a.feed?.length?"RSS 解析失败":"未设置 RSS 链接"}</span>`;l=(l+="</div>")+"</div>"+"</div>",$(t).find(".grid-box").append(l)}window.wrapLazyloadImages(t)})}}})});