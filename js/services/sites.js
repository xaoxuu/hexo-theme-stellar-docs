utils.jq(()=>{$(function(){for(var s=document.getElementsByClassName("ds-sites"),a=0;a<s.length;a++){const t=s[a];var e=t.getAttribute("api");if(null!=e){const l=def.avatar,o=def.cover;utils.request(t,e,async s=>{var a;for(a of(await s.json()).content){var e,r='<div class="grid-cell site-card">',r=(r=(r=(r=(r=(r+=`<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="${a.url}">`)+`<img src="${a.cover||a.snapshot||a.screenshot}" onerror="javascript:this.removeAttribute('data-src');this.src='${o}';"/>`+'<div class="info">')+`<img src="${a.icon||a.avatar||l}" onerror="javascript:this.removeAttribute('data-src');this.src='${l}';"/>`)+`<span class="title">${a.title}</span>`)+`<span class="desc">${a.description||a.url}</span>`)+"</div>"+'<div class="labels">';for(e of a.labels)75<e.lightness?r+=`<div class="label" style="background:#${e.color};color:hsla(${e.hue}, ${e.saturation}%, 20%, 1);">${e.name}</div>`:90<e.saturation&&40<e.lightness?r+=`<div class="label" style="background:#${e.color};color:hsla(${e.hue}, 50%, 20%, 1);">${e.name}</div>`:r+=`<div class="label" style="background:#${e.color};color:white">${e.name}</div>`;r=(r+="</div>")+"</a>"+"</div>",$(t).find(".grid-box").append(r)}window.wrapLazyloadImages(t)})}}})});