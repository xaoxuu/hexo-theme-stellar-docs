utils.jq(()=>{$(function(){for(var e=document.getElementsByClassName("ds-waline"),a=0;a<e.length;a++){const r=e[a];var t=parseInt(r.getAttribute("limit"))||10,n=r.getAttribute("api");if(null!=n){const s=def.avatar;utils.request(r,n+"/comment?type=recent&count="+t,async e=>{(await e.json()).forEach((e,a)=>{a=(a=(a=(a=(a=(a='<div class="timenode" index="'+a+'"><div class="header"><div class="user-info">')+'<img src="'+(e.avatar||s)+'" onerror="javascript:this.src=\''+s+"';\">")+"<span>"+e.nick+"</span></div>")+"<span>"+new Date(e.time).toLocaleString()+"</span>")+'</div><a class="body" href="'+e.url+"#"+e.objectId+'" target="_blank" rel="external nofollow noopener noreferrer">')+e.comment.replace(/<a\b[^>]*>(.*?)<\/a>/g,"$1")+"</a></div>";$(r).append(a)})})}}})});